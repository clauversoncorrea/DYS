var Conpass=function(e){"use strict";function t(e,t,o,a,r,i){if(!e)return et.error("registerActivity - missing activity type");if(!t)return et.error("registerActivity - missing activity status");if(!o||!o.alias)return et.error("registerActivity - missing activity user");if(!a)return et.error("registerActivity - missing activity object");var s=window.location.href;r=r||new Date;var l={};l.name=o.name||null,l.email=o.email||null,l.alias=o.alias,l.user=o._id||null;var c={};c.type=a.type,c.lastUpdate=a.lastUpdate,c.title=a.title,c._id=a._id,a.properties&&(c.properties=a.properties),"step"===e&&(c.order=a.order,c.flow=a.flow,c.placement=a.placement,c.element=a.element,a.messages&&(c.messages=a.messages));var d;try{var u={type:e,status:t,date:r,user:l,url:s,view:i,object:c};d=JSON.stringify(u,Ee)}catch(e){return et.error("registerActivity - failed to mount or stringify object:",e)}if(!tt)return et.info("dont log activities");var p=Be();n("POST",Oe.analyticsUrl+"activities/",{onSuccess:function(e){},onError:function(e){et.warn("failure registerActivity: ",e.message||e)},contentType:"application/json",authorization:p,data:d,externURI:!0})}function n(e,t,n){if(We)return n.onError({success:!1,message:"Failed to authenticate token. JsonWebTokenError: jwt malformed"});var o=n.data||null,a=n.responseType||"json",r=n.contentType||"application/json;charset=UTF-8",i=n.authorization||null,s=n.onSuccess||function(){},l=n.onError||function(){},c=null,d=n.externURI||!1,u=Oe.baseURL;if(d&&(u=""),window.XMLHttpRequest)try{c=new XMLHttpRequest}catch(e){et.warn("Internet Explorer"),c=new ActiveXObject("Microsoft.XMLHTTP")}else et.error("window.XMLHttpRequest not work! :(");c.onreadystatechange=function(){4==c.readyState&&200==c.status&&s(c.response),4==c.readyState&&403==c.status&&(We=!0),4==c.readyState&&c.status>=400&&l(c.response)},c.open(e,u+t,!0),c.responseType=a,null!=r&&c.setRequestHeader("Content-Type",r),null!=i&&c.setRequestHeader("x-access-token",i),null!=o?c.send(o):c.send()}function o(e,t){var o=Be();n("GET","users/alias/"+e,{onSuccess:function(e){var n=e[0];t(n)},onError:function(e){et.error("Erro ao carregar dados do usuario.",e),t(null)},authorization:o})}function a(e,t){var o=Be();n("PUT","users/",{onSuccess:function(e){et.info("Usuario atualizado."),t(e.data)},onError:function(e){et.error("Erro ao atualizar usuario: ",e),t(null)},contentType:"application/json",authorization:o,data:JSON.stringify(e,Ee)})}function r(e,t){var o=Be();n("POST","users/",{onSuccess:function(e){et.info("Usuario criado."),t(e.data)},onError:function(e){et.error("Erro ao criar usuario: ",e),t(null)},contentType:"application/json",authorization:o,data:JSON.stringify(e,Ee)})}function i(e,t){var t=t||{},e=e||null,o=Be();e&&n("GET","users/email/"+e,{onSuccess:function(e){et.info("Usuario carregado pelo email"),t(e.data)},onError:function(e){t(null),et.error("Erro ao carregar o usuario pelo email.")},contentType:"application/json",authorization:o})}function s(e,n){ce(),Ie(),n();var o=be();o.alreadyStarted=!0,Se(o),Ve.currentStep=Ge,Ve.save();var a=Fe();t("step","start",Ve,Ge,new Date,a),Ge.properties&&Ge.properties.integrateRdStation&&R(Ve,Ye,Ge)}function l(e,t,n,o){o=o||function(){},n=n||function(){},t=t||{},T();var a='<div id="conpassModalContent" class="conpassModalContent '+t.css+'"><button type="button" id="conpassButtonClose" class="conpassButtonClose">&times;</button><div id="conpassModalHeader" class="conpassModalHeader"></div><div id="conpassModalBody" class="conpassModalBody"></div><div class="conpassModalFooter">',r=document.createElement("div");a+='<div class="conpassCenter">',Ge.order>1&&(a+='<div id="previousStep" class="previousStep" style="display:inline-block "><div id="previousBtn" class="simpleButtonConpass">ANTERIOR</div></div>'),a+='<button type="button" id="conpassButton" class="conpassButton conpassButtonVideo"></button></div>',a+="</div></div></div>",r.id="conpassModal",r.classList.add("conpassModal"),r.innerHTML=a,document.body.insertBefore(r,document.body.childNodes[0]),n(),document.getElementById("conpassButtonClose").addEventListener("click",k),document.getElementById("conpassButton").addEventListener("click",H);var i=document.getElementById("previousStep");i&&(document.getElementById("previousStep").addEventListener("click",function(){ne()}),document.getElementById("previousBtn").innerText=e.properties.btnPreviousMsg);var s=document.getElementById("conpassButton");s&&(s.style.background=e.properties.colorTheme,s.innerHTML=e.properties.buttonStartTxt),o()}function c(e){s(e,function(){d(e,function(){ue("conpassFade"),ue("conpassModal")})})}function d(e,t){var n={css:"conpassNotificationModal"};l(e,n,function(){var t=e.messages,n="",o="";e.properties.imgNotification&&(o='<img src="'+e.properties.imgNotification+'" />'),e.properties.introTxtModal&&(n+='<p class="notificationTitle">'+e.properties.introTxtModal+"</p>"),e.properties.imgNotification&&(o='<img src="'+e.properties.imgNotification+'" />');for(var a=0;a<t.length;a++){var r=t[a];n+="<div>"+r.text+"</div>"}document.getElementById("conpassModalBody").innerHTML=n,document.getElementById("conpassModalHeader").innerHTML=o},t)}function u(e){s(e,function(){f(e,function(){ue("conpassFade"),ue("conpassModal")})})}function p(e){var t=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,n=e.match(t);return!(!n||11!=n[7].length)&&n[7]}function f(e,t){var n={css:"conpassVideoModal"};l(e,n,function(){var t=e.properties.introTxtModal,n=p(e.properties.videoUrl),o=e.properties.videoWidth||660,a=e.properties.videoHeight||370,r="";t&&(r+='<p class="videoTitle">'+t+"<p>"),n&&(r+='<iframe width="'+o+'" height="'+a+'" src="https://www.youtube.com/embed/'+n+'" frameborder="0"></iframe>'),document.getElementById("conpassModalBody").innerHTML=r},t)}function m(e,n){try{var o=Fe()||g();t("flow",n,Ve,e,new Date,o),Te({_id:e._id,title:e.title,startDate:new Date}),Ye=e,Ve.setFlow(e),Ve.save(),window.startFlowCalled=!1,et.info("Fluxo iniciado: ",Ye.title),U(1)}catch(e){et.error("Fluxo nao iniciado: "+Ye.title+" Error:",e)}}function v(e,t){try{t=t||{},we(e.title,Be()),x(e),t&&"undefined"!=typeof t.dontSendActivities&&(tt=t.dontSendActivities);var n=t.typeStartFlow||"start",o=t.show||!1;if(et.info("Configurando o fluxo: ",e.title),o)m(e,n);else if(Ve.currentStep&&Ve.currentFlow&&!t.mainFlow)Ge&&le(Ge.namePopover),Ye=Ve.currentFlow,Ge=Ve.currentStep,Te({_id:Ye._id,title:Ye.title,startDate:new Date}),U(Ge.order);else if(Ve.history){for(var a=!1,r=0;r<Ve.history.length;r++){var i=Ve.history[r];if(i.title==e.title){a=!0;break}}a?et.warn("O Usuario ja seguiu este fluxo: ",e.title):m(e,n)}}catch(t){et.error("Fluxo nao configurado: "+e.title+" Error:",t)}}function g(){var e=be();e||(e={});var t=Ae();return e.view=t,Se(e),t}function y(){var t=window.location.href.replace(/.*?:\/\//g,"");et.log("Pesquisando fluxo que inicializa pela URL:",t),e.findFlowByUrl(t,function(n){if(n){I(),Ie();var o=be();o&&n.title!=o.flow&&ie(),et.log("Fluxo iniciado pela URL:",t),v(n,{typeStartFlow:"startFlowByUrl"})}else e.startFlowByOnLoad()})}function h(){window.conpassInitHasCalled=!1,window.startFlowCalled=!1,Conpass.init()}function w(){try{jConpass.expr.filters.offscreen=function(e){var t=e.getBoundingClientRect();return t.x+t.width<0||t.y+t.height<0||t.x>window.parent.innerWidth||t.y>window.parent.innerHeight}}catch(e){et.error("Error in add OffScreen to Jquery",e)}}function b(e){e=e||function(e){};try{w()}catch(e){et.error("Error while configuring jQuery ",e)}Conpass.loadfile("jConpass.scrollTo.js","js",Conpass.appUrl,function(){e()})}function S(e){e=e||function(e){};try{Conpass.loadfile("conpassApp.css","css")}catch(e){et.warn("Falha ao carregar Conpass CSS")}window.jQuery?(window.jConpass=window.jQuery,b(e)):(et.log("Carregando dependencia: jConpass"),Conpass.loadfile("jConpass.js","js",Conpass.appUrl,function(){b(e)}))}function E(){var e=navigator.userAgent.toLowerCase();return e.search(/(android|avantgo|blackberry|bolt|boost|cricket|docomo|fone|hiptop|mini|mobi|palm|phone|pie|tablet|up\.browser|up\.link|webos|wos)/i)!=-1&&(ce(),B(),et.info("Does not work on mobile browsers. :("),!0)}function I(){var t=e.getConpassData();t&&!t.alreadyStarted&&(t.flow=null,t.timeoutID=null,Se(t))}function B(){ce();var e=document.getElementById("conpassFade");e&&e.parentNode.removeChild(e);var t=document.getElementById("conpassAssistant");t&&t.parentNode.removeChild(t)}function C(){var e=window.parent.document.getElementById("conpassAssistant");return!!e}function T(){if(!document.getElementById("conpassFade")){var e=document.createElement("div");e.id="conpassFade",e.classList.add("conpassFade"),e.addEventListener("click",function(){}),document.body.insertBefore(e,document.body.lastChild)}}function M(e,t){t=t||function(){},T();var n='<div id="conpassModalContent" class="conpassModalContent"><div id="conpassModalHeader" class="conpassModalHeader"><button type="button" id="conpassButtonClose" class="conpassButtonClose">&times;</button><img id="pickAvatarModal" class="pickAvatarModal"/><p class="nameAssistant"></p><h4 class="conpassModalTitle" id="conpassModalTitle"></h4><div id="conpassModalTitleHello" class="conpassModalTitleHello"></div></div><div id="conpassModalBody" class="conpassModalBody"></div><div class="conpassModalFooter"><button type="button" id="conpassButton" class="conpassButton"></button></div></div></div>',o=document.createElement("div");o.id="conpassModal",o.classList.add("conpassModal"),o.innerHTML=n,document.body.insertBefore(o,document.body.childNodes[0]),document.getElementById("conpassModalHeader").style.background=e.properties.colorTheme,document.getElementById("conpassButtonClose").addEventListener("click",k),document.getElementById("conpassButton").addEventListener("click",A);var a=document.getElementById("conpassButton");a&&(a.style.background=e.properties.colorTheme,a.innerHTML=e.properties.buttonStartTxt);var r=e.properties.imgAssistant||Ye.assistant.imgAssistant;document.getElementById("pickAvatarModal").src=r,document.querySelector(".nameAssistant").innerHTML=e.properties.descriptionAssistant,document.getElementById("conpassModalTitleHello").innerHTML=e.properties.welcomeMessage;var i="<p>"+e.properties.introTxtModal+"</p>",s=e.properties.listModal;s.sort(function(e,t){var n=e.order,o=t.order;return n<o?-1:n>o?1:0});for(var l in s){var c="0"===l?'checked=""':"";s[l].idFlow&&(i+='<div class="conpassPathsSelection">',i+='<label><input type="radio" class="conpassRadio" name="flow" value="'+s[l].idFlow+'" '+c+">  "+s[l].titleFlow+"</label>",i+="</div>")}document.getElementById("conpassModalBody").innerHTML=i,t()}function F(){for(var e=document.getElementsByClassName("conpassModal"),t=0;t<e.length;t++)e[t].remove();var n=document.getElementById("conpassFade");n&&n.remove()}function L(){F();var e=Fe();t("step","finished",Ve,Ge,new Date,e)}function k(){F();var e=Fe();t("step","canceled",Ve,Ge,new Date,e),t("flow","canceled",Ve,Ye,new Date,e),ie()}function x(t){var n=t.assistant.showAssistant||!1,o=t.assistant.optionsAssistant||"avatar";if(!n)return void B();if(C())return document.getElementById("pickAvatarButton")&&document.getElementById("pickAvatarButton").setAttribute("data-title",t.title),void(document.getElementById("conpassQuest")&&document.getElementById("conpassQuest").setAttribute("data-title",t.title));var a=document.createElement("div");a.id="conpassAssistant",a.classList.add("conpassAssistant"),a.innerHTML='<div id="conpassNews" class="conpassNews" style="display: none; background-color:'+t.assistant.symbolColorTheme+';"></div>';var r='<div id="conpassQuest" class="conpassQuest" data-title="'+t.title+'" style="background-color:'+t.assistant.symbolColorTheme+';" >?</div>',i='<img id="pickAvatarButton" class="pickAvatar" data-title="'+t.title+'" />';switch(o){case"avatar":a.innerHTML+=r,a.innerHTML+=i;break;case"symbol":a.innerHTML+=r;break;default:a.innerHTML+=r,a.innerHTML+=i}switch(document.body.insertBefore(a,document.body.lastChild),o){case"avatar":document.getElementById("pickAvatarButton").addEventListener("click",function(){var t=be();t.alreadyStarted=!1,Se(t);var n=t.flow||this.dataset.title;Ie(),I(),ce(),ie(),e.findFlowByTitle(n,Be(),function(e){v(e,{show:!0,typeStartFlow:"startFlowByAssistant"})})}),document.getElementById("pickAvatarButton").src=t.assistant.imgAssistant;break;case"symbol":document.getElementById("conpassQuest").style.cursor="pointer",document.getElementById("conpassQuest").addEventListener("click",function(){var t=be();t.alreadyStarted=!1,Se(t);var n=t.flow||this.dataset.title;Ie(),I(),ce(),ie(),e.findFlowByTitle(n,Be(),function(e){v(e,{show:!0,typeStartFlow:"startFlowByAssistant"})})})}document.body.addEventListener("scroll",function(){document.getElementById("conpassAssistant").setAttribute("top",document.body.scrollTop+"px;")}),document.getElementById("conpassAssistant").setAttribute("style","top:"+t.assistant.place+"px")}function P(e){function t(){return n>=o?void clearInterval(r):(z(e)&&(clearInterval(r),$(e)),void n++)}if(z(e)&&!e.delay)return void $(e);var n=0,o=15,a=e.delay||100,r=setInterval(t,a),i=be();i.timeoutID=r,Se(i)}function A(){for(var t=document.getElementsByName("flow"),n="",o=0;o<t.length;o++)t[o].checked&&(n=t[o].value);""!=n&&(L(),n===Ye._id?U(parseInt(Ge.order)+1):(Le(),e.startFlowById(n,{mainFlow:Ye,show:!0})))}function H(){L(),ce(),U(parseInt(Ge.order)+1)}function j(e,t){try{if(e&&t&&e.events)for(var n=0;n<e.events.length;n++){var o=e.events[n];t.removeEventListener?o.listener&&o.name&&t.removeEventListener(o.name,o.listener):t.detachEvent&&o.listener&&o.name&&t.detachEvent(o.name,o.listener)}}catch(e){et.warn("Falha ao remover EventListener")}}function D(){var e=function(e){if(Ge||Ye){var t=Conpass.getConpassData(),n=Ge,o=Ye.steps;if(1==t.alreadyStarted)for(var a=null,r=0;r<o.length;r++)if(o[r].order==parseInt(n.order)){a=o[r],Ve.setStep(a),Ve.save();break}}};window.addEventListener("beforeunload",e)}function N(e){var e=e||{};if(!e.title)return void et.warn("Flow is null in dispatchEventFinishFlow");var t=new CustomEvent("flowcompleted",{detail:e.title});window.dispatchEvent(t)}function U(e){if(!Ye.steps)return void et.warn("Nao ha passos para este fluxo:"+Ye.title);for(var n=null,o=0;o<Ye.steps.length;o++)if(Ye.steps[o].order==e){n=Ye.steps[o];break}if(n){var a={};switch(a=Ge,Ge=n,et.info("Start Step: "+Ge.order+" ",Ge.title),Ve.setStep(n),Ve.save(),a&&j(a,a.elementInPage),D(),n.type.toString().toLowerCase()){case"modal":_(Ge);break;case"video":u(Ge);break;case"popover":P(Ge);break;case"notification":c(Ge)}}else{et.info("Fluxo finalizado: "+Ye.title),N(Ye),Ie(),j(Ge,Ge.elementInPage);var r=Fe();t("flow","finished",Ve,Ye,new Date,r),ie()}}function _(e){ce(),Ie(),M(e,function(){ue("conpassFade"),ue("conpassModal")});var n=be();n.alreadyStarted=!0,Se(n),Ve.setStep(Ge),Ve.save();var o=Fe();t("step","start",Ve,Ge,new Date,o),Ge.properties&&Ge.properties.integrateRdStation&&R(Ve,Ye,Ge)}function R(e,t,o){if(!e||!e.email)return void et.warn("User Email is required. [Send data RDStation]");if(!o)return void et.warn("Step is required. [Send data RDStation]");if(!t)return void et.warn("Flow is required. [Send data RDStation]");if(t.properties.rdStationToken&&t.properties.rdStationToken.length>1){var a=t.properties.rdStationToken,r=e.email,i="CONPASS Onboarding. Fluxo: "+t.title+"- Passo: "+o.title,s="token_rdstation="+a+"&email="+r+"&identificador="+i;try{n("POST","https://www.rdstation.com.br/api/1.2/conversions",{contentType:"application/x-www-form-urlencoded",externURI:!0,data:s,onSuccess:function(e){et.info("Sucess on send data for RDStation:",e)},onError:function(e){et.error("Error on send data for RDStation(httpRequest):",e)}})}catch(e){et.error("Error on send data for RDStation:",e)}}}function O(e,t){function n(e,t,n){var o=window.frames;if(t&&""!==t)try{var r=jConpass(t);if(r&&r[0])return r[0];for(var i=0;i<o.length;i++){var s=o[i].document,l=s.querySelector(t);if(l)return l}}catch(e){et.warn("Problem in getElementInDocument using element Selector",e)}var c=null;if(t&&(c=n.querySelector(t)),c)return c;var d=n.getElementsByTagName(e.tagName);d=Array.prototype.slice.call(d,0);for(var i=0;i<o.length;i++)try{var s=o[i].document,l=s.getElementsByTagName(e.tagName);l=Array.prototype.slice.call(l,0),d=d.concat(l)}catch(e){}return c=a(e,"idHTML","id",d),c||(c=a(e,"outerHTML","outerHTML",d)),c||(c=a(e,"textContent","textContent",d)),c||(c=a(e,"nameHTML","name",d)),c}function o(e,t,n,o){for(var a=new RegExp(e.idHTML.toString()),r=0;r<o.length;r++){var i=o[r];if(a.test(i.id.toString()))return i}return null}function a(e,t,n,a){if(!e.hasOwnProperty(t))return null;var r=e[t];if(!r)return null;if("idHTML"===t)return o(e,t,n,a);for(var i=0;i<a.length;i++){var s=a[i];if(fe(s[n])===fe(r)){if(!e.parentID)return s;var l=!1,c=s.parentNode,d=1,u=!0;do{if(c.id&&c.id.length>1&&c.id==e.parentID)return l=!0,u=!1,s;c=c.parentNode,d++}while(u&&d<10)}}}if(!e&&!t)return void et.warn("Elemento do passo nao definido.");var r=n(e,t,document);return r}function z(e){var t=O(e.element,e.elementSelector);if(null==t)return et.warn("Elemento nao encontrado na pagina. Titulo do passo: ",e.title,e),!1;var n=me(t);return!(!n||!(n.left>0||n.top>0))||(et.warn("Elemento encontrado, mas com posicao incorreta. Por favor recapture. Titulo do fluxo: ",e.title,e),!1)}function J(e,t){var n="";return e.currentStyle?n=e.currentStyle[t]:document.defaultView&&document.defaultView.getComputedStyle&&(n=document.defaultView.getComputedStyle(e,null).getPropertyValue(t)),n&&n.toLowerCase?n.toLowerCase():n}function q(e){var t=document.getElementById("conpassMasks");if(t){var n=t.classList.contains("conpassHidden");e&&n&&t.classList.remove("conpassHidden"),!e&!n&&t.classList.add("conpassHidden")}}function W(){q(!1)}function Q(e){return document.getElementById("conpassMask-"+e)}function X(e){var t=Q("left");t.style.top=e.top+"px",t.style.height=e.height+"px",t.style.width=e.left+"px"}function V(e){var t=Q("top");t.style.height=e.top+"px",t.style.width=Z()+"px"}function G(e){var t=Q("right"),n=e.left+e.width;t.style.height=e.height+"px",t.style.width=Z()-n+"px",t.style.left=n+"px",t.style.top=e.top+"px"}function Y(e){var t=Q("bottom"),n=e.top+e.height;t.style.height=K()-n+"px",t.style.top=n+"px",t.style.width=Z()+"px"}function K(){var e=document.body,t=document.documentElement,n=Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight);return n}function Z(){return Math.max(document.body.clientWidth,window.innerWidth)}function $(e,n){function o(e){e.addEventListener("scroll",function(){ke()},!1)}function a(e){e=e||Ge.elementInPage,Ge.events||(Ge.events=[]);var n={};n.name="click",n.listener=function(o){var a=Ge.properties.isSpa,r=Ge.order,i=!1,s=Fe();if(t("step","finished",Ve,Ge,new Date,s),W(),de(),U(parseInt(r)+1),a&&!window.location.hostname.includes("quantosobra.com.br")&&(console.log("Conpass: propagação do evento parada."),o.stopPropagation(),i=!0),e.removeEventListener(n.name,n.listener),a)i&&(jConpass(e).click(),console.log("Conpass: propagação do evento reiniciada."),jConpass(e).trigger("click"));else if(this.href){if("#"===this.getAttribute("href")){if(this.getAttribute("data-target"))return;return console.log("Conpass: click no elemento 'a' (href==#)."),jConpass(e).click(),void jConpass(e).trigger("click")}if(this.target&&"_self"!==this.target)return void console.log("Conpass: click no elemento 'a' (target!==_self).");if(this.hash)return void console.log("Conpass: click no elemento 'a' (hash).");console.log("Conpass: click no elemento 'a'. Redirecionamento (window.location)."),window.location=this.href}},Ge.events.push(n),e.addEventListener(n.name,n.listener)}function r(e){e=e||Ge.elementInPage,Ge.events||(Ge.events=[]);var t={};t.name="mouseover",t.listener=function(){document.getElementById(Ge.namePopover).style.visibility="initial"};var n={};n.name="mouseleave",n.listener=function(){document.getElementById(Ge.namePopover).style.visibility="hidden"},e.addEventListener(t.name,t.listener),e.addEventListener(n.name,n.listener),Ge.events.push(t),Ge.events.push(n)}function i(e){var t='<div class="contentPopover">',n=Ge.properties.imgAssistant||Ye.assistant.imgAssistant;if(t+='<div class="imgPopover"><img  class="pickAvatar" src="'+n+'" alt="" /></div>',Ge.messages.length>0){for(var o=0;o<Ge.messages.length;o++)1==Ge.messages[o].position&&(Ke=Ge.messages[o]),Ge.messages[o].position==Ge.messages.length&&(Ze=Ge.messages[o]);t+='<div class="conpassMessage" id="conpassTextMessage">'+Ke.text+"</div>"}return t+="</div>",t+='<div class="footerPopover">',c()&&(t+='<a href="http://bit.ly/conpassonboarding" target="_blank"><img src="https://api.conpass.io/images/conpass/conpass-cta-1x.png" class="conpass-cta"></a>'),t+=Ge.order>1?'<div id="previousMessage" class="previousMessage" style="display:inline-block "><div id="previousBtn" class="simpleButtonConpass">ANTERIOR</div></div>':'<div id="previousMessage" class="previousMessage" style="display:none "><div id="previousBtn" class="simpleButtonConpass">ANTERIOR</div></div>',t+='<div id="nextMessage" class="nextMessage" style="display:inline-block "><div id="nextBtn" class="simpleButtonConpass">PR&#211;XIMO</div></div>',t+="</div>"}function s(e){document.getElementById("closePopover").addEventListener("click",function(){W(),se()}),document.getElementById("nextMessage").addEventListener("click",function(){te()}),document.getElementById("previousMessage").addEventListener("click",function(){oe()}),e}function l(){document.getElementById("nextBtn").innerText=Ge.properties.btnNextMsg,document.getElementById("previousBtn").innerText=Ge.properties.btnPreviousMsg}function c(){var e=navigator.language||navigator.userLanguage;return!!window.location.hostname.includes("conpass.io")||(!!window.location.hostname.includes("lojadobreno.vtexcommercestable.com.br")||(!!window.location.hostname.includes("neosuportea.neoassist.com")||(!(!window.location.hostname.includes("desk.ms")||"pt-BR"!=e)||(!!window.location.hostname.includes("onctaboarding.qaoctadesk.com")||(!(!window.location.hostname.includes("admin.smarthint.co")||"pt-BR"!=e)||(!!window.location.hostname.includes("locaweb.com.br")||(!!window.location.hostname.includes("www.lwsite.com.br")||!!window.location.hostname.includes("emailmarketing.locaweb.com.br"))))))))}Ge=e||Ge,n=n||function(){},Ke={},Ze={},Ge.events=null,ce(),Ie(),Ge.triggerMode=Ge.triggerMode||"onOkButton";var d="onOkButton"!==Ge.triggerMode;Ge.elementInPage=O(Ge.element,Ge.elementSelector);var u=me(Ge.elementInPage);if(!u)return W(),void et.warn("Elemento nao encontrado na pagina. Titulo do passo:",Ge.title);Ge.namePopover="conpassPopover"+Ge._id+Ge.element.tagName.toLowerCase(),Ge.placement||(Ge.placement="top");var p=document.getElementById(Ge.namePopover);if(p)return void et.warn("Another popover with same id already exists. Id: ",Ge.namePopover);for(var f=Ge.elementInPage,m=Pe(f,!1),v=f,g=window.parent.frames,y=0;y<g.length;y++)try{o(g[y].document)}catch(e){}if(je(Ge.elementInPage)){var h=xe(Ge.elementInPage);jConpass(h).scrollTo(Ge.elementInPage,0,{axis:"y",offset:{top:-250}})}for(;!He(m);)o(m),jConpass(m).scrollTo(v,0,{axis:"y",offset:{top:-250}}),v=m,m=Pe(m,!1);var w='<div class="conpassPopoverHead">';w+='<div class="titlePopover">'+Ge.title+"</div>",w+='<div id="closePopover" class="closePopover">&times;</div>',w+="</div>",w+=i(d),w+='<div class="conpassArrow"></div>';var b=document.createElement("div");b.id=Ge.namePopover,b.innerHTML=w,b.visibility="hidden",b.classList.add("conpassPopover"),document.body.insertBefore(b,document.body.childNodes[0]),s(d),l(),Qe(Ge.placement,Ge.element,Ge.namePopover,Ge.elementInPage,Ge.elementSelector);var S=document.getElementById(Ge.namePopover),E=Ge.properties.blockAutoScroll,I=jConpass(f);if(h&&(I=h.contents().find(f)),!E&&I.is(":offscreen")?ee(S.offsetTop,S.offsetHeight):h&&h.is(":offscreen")&&ee(S.offsetTop,S.offsetHeight),Ge.useFade){var u=me(Ge.elementInPage);Ue(u),Ne(Ge.elementInPage)}if(Ge.triggerMode){if("onElementClick"===Ge.triggerMode){var B=document.getElementById("nextMessage");B.style.display="none",a()}if("onMouseOver"===Ge.triggerMode){var B=document.getElementById("nextMessage");B.style.display="none",a(),Ge.useFade=!1,W(),r()}}var C=be();C.alreadyStarted=!0,Se(C),Ve.setStep(Ge),Ve.save();var T=Fe();t("step","start",Ve,Ge,new Date,T),Ge.properties&&Ge.properties.integrateRdStation&&R(Ve,Ye,Ge),n()}function ee(e,t){var n=parseInt(parseInt(e)-1.5*t);n<0&&(n=0),Re(jConpass(window.top.document),n,1500)}function te(){var e=parseInt(Ke.position)+1;if(e<=Ze.position){for(var t=0;t<Ge.messages.length;t++)Ge.messages[t].position==e&&(Ke=Ge.messages[t]);Ke.text?document.getElementById("conpassTextMessage").innerHTML=Ke.text:document.getElementById("conpassTextMessage").innerHTML=""}else ae();ue("previousMessage",null,"inline-block")}function ne(){Ge.order>1&&(ce(Ge),U(parseInt(Ge.order)-1))}function oe(){var e=parseInt(Ke.position)-1;if(e>0){for(var t=0;t<Ge.messages.length;t++)Ge.messages[t].position==e&&(Ke=Ge.messages[t]);void 0!=Ke.text&&null!=Ke.text&&Ke.text.length>0?document.getElementById("conpassTextMessage").innerHTML=Ke.text:document.getElementById("conpassTextMessage").innerHTML=""}Ke.position<=1&&pe("previousMessage"),e<1&&(le(Ge.namePopover),U(parseInt(Ge.order)-1))}function ae(){j(Ge,Ge.elementInPage),de(),re()}function re(){var e=Fe();t("step","finished",Ve,Ge,new Date,e),U(parseInt(Ge.order)+1)}function ie(){Ve.setStep(null),Ve.setFlow(null),Ve.save(),Ge=null,Ye=null;var e=be();e.alreadyStarted=!1,e.flow=null,Se(e),Le()}function se(){de(),j(Ge,Ge.elementInPage);var e=Fe();t("step","canceled",Ve,Ge,new Date,e),t("flow","canceled",Ve,Ye,new Date,e),ie(),Ie()}function le(e){if(e){var t=document.getElementById(e);t&&(W(),t.remove())}}function ce(){F(),de()}function de(){W();for(var e=document.getElementsByClassName("conpassPopover"),t=0;t<e.length;t++)e[t].remove()}function ue(e,t,n){t=t||function(){},n=n||"block",void 0!==document.getElementById(e)&&null!==document.getElementById(e)&&(void 0==document.getElementById(e).style||null==document.getElementById(e).style?document.getElementById(e).setAttribute("style","display:"+n.toString()):document.getElementById(e).style.display=n.toString(),t())}function pe(e,t){t=t||function(){},void 0!==document.getElementById(e)&&null!==document.getElementById(e)&&(void 0==document.getElementById(e).style||null==document.getElementById(e).style?document.getElementById(e).setAttribute("style","display:none"):document.getElementById(e).style.display="none",t())}function fe(e){return e.replace(/\s+/g,"")}function me(e){function t(e,t){var n=Number(J(e,"margin-"+t).replace("px",""));return n>0?n:0}function n(e){return{top:t(e,"top"),left:t(e,"left"),right:t(e,"right"),bottom:t(e,"bottom")}}function o(e){if(!e)return null;var t={},o=n(e),a=jConpass(e).outerWidth(),r=jConpass(e).outerHeight(),i=_e(e),s={top:parseFloat(i.top),left:parseFloat(i.left),width:a,height:r,position:t.isFixed?"fixed":"absolute",margins:o};return s}if(!e)return null;var a=o(e);return a}function ve(e,t,n,o,a){if(!e||!t||!n)return{error:!0,body:"black values"};if(o||(o=O(t,a)),!o)return{error:!0,body:"no elementInPage"};if(E())return{error:!0,body:"is mobile"};var r=document.getElementById(n),i=r.offsetWidth,s=r.offsetHeight,l=0,c=0,d=me(o);switch(e.toString().toLowerCase()){case"top":l=d.left+parseFloat(o.offsetWidth)/2-i/2,c=d.top-(s+13);break;case"left":l=d.left-(parseFloat(i)+11),c=d.top-s/2+parseFloat(o.offsetHeight)/2;break;case"right":l=d.left+(parseFloat(o.offsetWidth)+11),c=d.top-s/2+parseFloat(o.offsetHeight)/2;break;case"bottom":l=d.left+parseFloat(o.offsetWidth)/2-i/2,c=d.top+(parseFloat(o.offsetHeight)+11);break;case"top-right":l=d.left+(parseFloat(o.offsetWidth)+7),c=d.top-(s+7);break;case"top-left":l=d.left-(parseFloat(i)+6),c=d.top-(s+6);break;case"bottom-right":l=d.left+(parseFloat(o.offsetWidth)+6),c=d.top+(parseFloat(o.offsetHeight)+6);break;case"bottom-left":l=d.left-(parseFloat(i)+7),c=d.top+(parseFloat(o.offsetHeight)+6)}if(Ge&&Ge.properties&&(Ge.properties.verticalAdjustment&&(c=Ge.properties.verticalAdjustment+c),Ge.properties.horizontalAdjustment&&(l=Ge.properties.horizontalAdjustment+l)),l<0)return{error:!0,body:"position.lass.then.zero"};var u=window.innerWidth,p=l+i;return p>u?{error:!0,body:"position.great.then.window.innerWidth"}:c<0?{error:!0,body:"position.lass.then.zero"}:{error:!1,body:{leftPosition:l,topPosition:c,position:d.position}}}function ge(e,t,n,o,a){var r=ve(e,t,n,o,a);if(r.error)return{error:!0,body:r.body};var i=document.getElementById(n);return i.style.left=r.body.leftPosition+"px",i.style.top=r.body.topPosition+"px",i.style.position=r.body.position,i.style.setProperty("position",r.body.position,"important"),ot(i),nt(i,e),{error:!1}}function ye(e,t,n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);var a="expires="+o.toUTCString();document.cookie=e+"="+t+"; "+a}function he(e){for(var e=e+"=",t=document.cookie.split(";"),n=0;n<t.length;n++){for(var o=t[n];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(e))return o.substring(e.length,o.length)}return null}function we(e,t){var n=be();n||(n={},n.flow=""),n.flow=e,Se(n)}function be(){try{if("undefined"==typeof Storage){var e=he("conpass");return e?JSON.parse(e):null}try{var e=localStorage.getItem("conpass");return e?JSON.parse(e):null}catch(e){et.error("getConpassData - error:",e)}}catch(e){et.error("get Storage & Cookie - try error:",e)}}function Se(e){try{if("undefined"!=typeof Storage)try{localStorage.setItem("conpass",JSON.stringify(e,Ee))}catch(t){et.error("setConpassData - obj:",e),et.error("setConpassData - try error",t)}else ye("conpass",JSON.stringify(e,Ee),365)}catch(e){et.error("set Storage & Cookie - try error:",e)}}function Ee(e,t){if("elementInPage"!==e)return t}function Ie(){var e=be();try{clearTimeout(e.timeoutID)}catch(e){et.warn("Nao aplicou a limpeza de Timeout - causa:",e)}try{clearInterval(e.timeoutID)}catch(e){et.warn("Nao aplicou a limpeza de Interval - causa:",e)}e.timeoutID=null,Se(e)}function Be(){return be()?be().token||window.cpt:window.cpt}function Ce(e){var t=be();t||(t={},t.token={}),t.token=e,Se(t)}function Te(e){if(Ve.history.length<1)return Ve.history.push(e),et.log("Historico do usuario criado e atualizado."),void Ve.save();for(var t=!0,n=0;n<Ve.history.length;n++){var o=Ve.history[n];if(o.title==e.title){o=e,t=!1;break}}t&&(Ve.history.push(e),et.log("Historico do usuario atualizado."),Ve.save())}function Me(){var e=be();return e&&e.user?e.user:null}function Fe(){var e=null,t=be();return t&&(e=t.view),e}function Le(){var e=be();e&&e.user&&(e.view=null,Se(e))}function ke(){if(!rt.redefinePostion.running){if(rt.redefinePostion.running=!0,E())return void(rt.redefinePostion.running=!1);if(Ge&&document.getElementById(Ge.namePopover)){Ge.elementInPage||(Ge.elementInPage=O(Ge.elementInPage,Ge.elementSelector));var e=me(Ge.elementInPage);if(!e)return void(rt.redefinePostion.running=!1);it.top==e.top&&it.left==e.left||(Qe(Ge.placement,Ge.element,Ge.namePopover,Ge.elementInPage,Ge.elementSelector),Ge.useFade&&(Ue(e),Ne(Ge.elementInPage))),it=e}rt.redefinePostion.running=!1}}function xe(e){var t=jConpass(e).parents("body"),n=jConpass(window.parent.document.body).find("iframe").filter(function(){try{var e=jConpass(this).contents().find("body");return t.get(0)===e.get(0)}catch(e){return!1}});return n}function Pe(e,t){var n=window.getComputedStyle(e),o="absolute"===n.position,a=t?/(auto|scroll|hidden)/:/(auto|scroll)/;if("fixed"===n.position)return document.body;for(var r=e;r=r.parentElement;)if(n=window.getComputedStyle(r),(!o||"static"!==n.position)&&a.test(n.overflow+n.overflowY+n.overflowX))return r;return document.body}function Ae(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<40;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}function He(e){var t=window.frameElement&&"IFRAME"==window.frameElement.nodeName;return!t&&document.body===e}function je(e){
var t=jConpass(e).parents("body");return jConpass(window.parent.document.body).get(0)!==t.get(0)}function De(e,t){var n=document.createElement("div");return n.id="conpassMask-"+e,n.style.setProperty("position",t.position,"important"),n.classList.add("conpassMask"),n.style.left=0,n.style.top=0,n.width=0,n.height=0,n.addEventListener("click",function(){}),n}function Ne(e){e||(e=O(Ge.element));var t=me(e);return t?(q(!0),X(t),V(t),G(t),void Y(t)):void et.warn("Elemento nao encotrado para construir o esmaecer:",elementInPage)}function Ue(e){var t=document.getElementById("conpassMasks");t||(t=document.createElement("div"),t.id="conpassMasks",t.appendChild(De("left",e)),t.appendChild(De("top",e)),t.appendChild(De("right",e)),t.appendChild(De("bottom",e)),document.body.appendChild(t))}function _e(e){if(!je(e))return jConpass(e).offset();var t=xe(e),n=jConpass(t).contents().scrollTop(),o=jConpass(t).offset(),a=jConpass(e).offset(),r=o.left+a.left-jConpass(document).scrollLeft(),i=o.top+a.top-jConpass(t).scrollTop()-n;return{top:i,left:r}}function Re(e,t,n){if(void 0!=e.scrollTop()&&null!=e.scrollTop()){var o=e.scrollTop(),a=t-o,r=0,i=20,s=function(){function t(e,t,n,o){return e/=o/2,e<1?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t)}r+=i;var l=t(r,o,a,n);e.scrollTop(l),r<n&&setTimeout(s,i)};s()}}var Oe={baseURL:"https://api2.conpass.io/v2/",analyticsUrl:"https://analytics.conpass.io/v2/"},ze=function(){var e=!1,t=function(){var n=setInterval(function(){var o=Me();o&&o.needToSync&&!e&&(e=!0,Ve._id?Ve.put(function(){e=!1}):Ve.post(function(){e=!1})),clearInterval(n),t()},1e4)};this.init=function(){t()}},Je=function(){var e="Conpass informa:",t=!1,n=[];this.log=function(){var o=Array.prototype.slice.call(arguments);o.unshift(e+" "),t?console.log.apply(console,o):n.push({level:"log",args:o})},this.info=function(){var o=Array.prototype.slice.call(arguments);o.unshift(e+" "),t?console.info.apply(console,o):n.push({level:"info",args:o})},this.warn=function(){var o=Array.prototype.slice.call(arguments);o.unshift(e+" "),t?console.warn.apply(console,o):n.push({level:"warn",args:o})},this.error=function(){var o=Array.prototype.slice.call(arguments);o.unshift(e+" "),t?console.error.apply(console,o):n.push({level:"error",args:o})},this.debug=function(){var o=Array.prototype.slice.call(arguments);o.unshift(e+" "),t?console.debug.apply(console,o):n.push({level:"debug",args:o})},this.stop=function(){t=!1},this.start=function(){for(var e=0;e<n.length;e++){var o=n[e];"log"==o.level&&console.log.apply(console,o.args),"info"==o.level&&console.info.apply(console,o.args),"warn"==o.level&&console.warn.apply(console,o.args),"error"==o.level&&console.error.apply(console,o.args),"debug"==o.level&&console.debug.apply(console,o.args)}n=[],t=!0}},qe=function(){var e=this;this.newAlias=function(){var e=fe(window.location.hostname.replace(/\./g,"")),t=new Date;return"conpassUser_"+t.getMilliseconds()+Math.round(1e5*Math.random())+"_"+e},this._id=null,this.name=null,this.email=null,this.history=[],this.custom_fields={},this.lastUpdate=(new Date).toString(),this.alias=e.newAlias(),this.currentFlow=null,this.currentStep=null,this.needToSync=!1,this.identify=function(t,o){if(et.log("Iniciada a identificacao do usuario."),o=o||function(){},!t)return void et.warn("Conpass.identifyUser() -> Properties is NULL.");if(!t.email)return void et.warn("Conpass.identifyUser() -> User email is NULL.");var a=t.email;i(a,function(r){if(r){var i=e.currentFlow||r.currentFlow,s=e.currentStep||r.currentStep;n(r),e.currentFlow=i,e.currentStep=s}e.alias=e.alias||e.newAlias(),e.name=t.name||e.name||null,e.email=a||e.email||null,e.history=t.history||e.history||[],e.custom_fields=t.custom_fields||e.custom_fields||{},e.save(),y(),o()})},this.setFlow=function(e){this.currentFlow=e},this.setStep=function(e){this.currentStep=e},this.init=function(a){t(function(){o(e.alias,function(t){t&&(n(t),e.currentFlow=t.currentFlow||e.currentFlow,e.currentStep=t.currentStep||e.currentStep),a()})})},this.save=function(){e.alias=e.alias||e.newAlias(),e.lastUpdate=(new Date).toString(),e.needToSync=!0,e.setInStore()},this.sync=function(){},this.put=function(t){a(e.toJson(),function(n){n?(e._id=n._id,e.needToSync=!1):We&&(e.needToSync=!1),e.setInStore(),et.info("Dados do usuario sicronizados entre o servidor da Conpass e LocalStorage(navegador)."),t()})},this.post=function(t){r(e.toJson(),function(n){n?(e._id=n._id,e.needToSync=!1):We&&(e.needToSync=!1),e.setInStore(),et.info("Dados do usuario sicronizados entre o servidor da Conpass e LocalStorage(navegador)"),t()})},this.toJson=function(){var t={name:e.name,email:e.email,alias:e.alias,lastUpdate:e.lastUpdate,currentFlow:e.currentFlow,currentStep:e.currentStep,history:e.history,custom_fields:e.custom_fields,needToSync:e.needToSync};return e._id&&(t._id=e._id),t},this.toParam=function(){return{_id:e._id,name:e.name,email:e.email,alias:e.alias,custom_fields:e.custom_fields}};var t=function(e){var t=Me();t&&n(t),e()};this.setInStore=function(){var t=e.toJson();t.currentStep&&t.currentStep.elementInPage&&(t.currentStep.elementInPage=null);var n=be();n&&(n.user=t,Se(n))};var n=function(t){e._id=t._id,e.name=t.name,e.email=t.email,e.history=t.history,e.custom_fields=t.custom_fields,e.lastUpdate=(new Date).toString(),e.alias=t.alias||e.newAlias(),e.currentFlow=t.currentFlow,e.currentStep=s(e.currentStep,t.currentStep),e.needToSync=t.needToSync},s=function(e,t){return e||t?e&&!t?e:!e&&t?t:e.order<t.order?t:e:null};this.close=function(){e.custom_fields=null,e.currentFlow=null,e.currentStep=null,e.history=[],e.name=null,e.email=null,e.lastUpdate=null,e.alias=null},this.closeAndSave=function(){e.close(),e.save(),et.log("Dados do usuario deletados do LocalStorage.")}};e.findFlowByUrl=function(e,t){var o=Be(),a=JSON.stringify(Ve.toParam());n("GET","flows?q[url]="+encodeURIComponent(e)+"&user="+a,{contentType:"application/json",authorization:o,onSuccess:function(n){n.data?t(n.data):(et.info("Nao ha fluxo para essa URL:",e),t(null))},onError:function(e){et.error("Erro ao carregar fluxo pela url.",e)}})},e.findFlowByTitle=function(e,t,o){var a=JSON.stringify(Ve.toParam());n("GET","flows/title/"+e+"/?user="+a,{contentType:"application/json",authorization:t,onSuccess:function(t){t.data?o(t.data):et.info("Fluxo nao encontrado atraves do titulo:",e)},onError:function(e){et.error("Erro ao carregar fluxo pelo titulo.",e)}})},e.findFlow=function(e,t,o){var a=JSON.stringify(Ve.toParam());n("GET","flows/"+e+"/?user="+a,{contentType:"application/json",authorization:t,data:JSON.stringify(Ve.toJson(),Ee),onSuccess:function(e){e.data?o(e.data):et.info("Fluxo nao encontrado.")},onError:function(e){et.error("Erro ao carregar fluxo.",e)}})};var We=!1;e.startFlowByOnLoad=function(t){t=t||function(){};var n=e.getConpassData();return n.alreadyStarted&&n.flow?(e.findFlowByTitle(n.flow,Be(),function(e){v(e,{alreadyStarted:n.alreadyStarted,typeStartFlow:"startFlowByOnLoad"})}),void t(!1)):(C()&&B(),t(!0))};var Qe=function(e,t,n,o,a){e||(e="top");var r=ge(e,t,n,o,a);if(r.error)for(var i=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],s=0;s<i.length;s++){var e=i[s];if(r=ge(e,t,n,o,a),!r.error)break}},Xe="2.9.5",Ve=new qe,Ge={},Ye={},Ke={},Ze={},$e="",et=new Je,tt=!0;e.appUrl="https://conpass.io/js/",e.version=Xe,et.info("versao "+Xe),e.app_id=function(e){window.cpt=e,Ce(e)},e.init=function(){et.log("Iniciada! ;)"),rt.init(),window.conpassInitHasCalled||e.setup(window.cpt,function(){if(!E()){var e=new ze;e.init(),Ve.init(function(){return window.conpassInitHasCalled=!0,et.info("Pre configuracoes concluidas. ;)"),window.startFlowCalled?void et.log("startFlow por linha de comando em andamento."):void y()})}})},e.setup=function(e,t){t=t||function(){},e&&Ce(e),S(function(e){et.info("Dependencias da Conpass configuradas."),window.addEventListener("resize",function(){ke()},!1),window.addEventListener?window.addEventListener("hashchange",h,!1):window.attachEvent&&window.attachEvent("onhashchange",h),t()})},e.user=Ve,e.close=function(){Conpass.Logger.start(),et.log("Comando Close iniciado."),B(),I(),et.log("Dados da Conpass deletados do LocalStorage."),Ve.closeAndSave()},e.inProgress=function(){var t=e.getConpassData();if(t&&t.user){var n=new Date(t.user.lastUpdate.toString()),o=new Date;if(o>n){if(o.setHours(o.getHours()-1),o<=n)return!0}else if(o==n)return!0}return!1},e.identifyUserAndStartFlow=function(e,t){Conpass.identifyUser(e,function(){Conpass.startFlow(t)})},e.Logger=et;var nt=function(e,t){switch(t){case"top":e.classList.add("top");break;case"left":e.classList.add("left");break;case"right":e.classList.add("right");break;case"bottom":e.classList.add("bottom");break;case"bottom-left":e.classList.add("bottom-left");break;case"bottom-right":e.classList.add("bottom-right");break;case"top-left":e.classList.add("top-left");break;case"top-right":e.classList.add("top-right");break;default:e.classList.add("top")}},ot=function(e){for(var t=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],n=0;n<t.length;n++){var o=t[n];e.classList.remove(o)}};(function(e){return e.set=ye,e.get=he,e})({});e.startFlowById=function(t,n){n=n||{},n.typeStartFlow="startFlowById",E()||(I(),Ie(),B(),e.findFlow(t,Be(),function(e){if(n.mainFLow){var t=be();t.mainFlow=n.mainFLow,Se(t)}v(e,n)}))};var at=function(t,n){et.log("Fluxo iniciado por Linha de comando:",t),n=n||{},n.typeStartFlow="startFlowByCommandLine",E()||e.findFlowByTitle(t,Be(),function(e){I(),Ie();var t=be();t&&e.title!=t.flow&&ie(),v(e,n)})};e.startFlow=function(e,t){if(window.startFlowCalled=!0,t=t||null,e instanceof Array)for(var n=0;n<e.length;n++)at(e[n],t);else at(e,t)},e.startFlowByJSON=function(e,t){if(t=t||null,!E()){Ie(),t&&"undefined"!=typeof t.dontSendActivities&&(tt=t.dontSendActivities),ke(),Ge=e.steps[0];var n="startFlowByJSON";m(e,n)}},e.getConpassData=function(){return be()},e.identifyUser=function(e,t){return Ve.identify(e,t)};var rt={init:function(){st()},redefinePostion:{running:!1}},it={top:-1,left:-1},st=function(){var e=setInterval(function(){ke(),clearInterval(e),st()},50)};e.loadfile=function(e,t,n,o){var o=o||{},a=n||"https://api.conpass.io/";if($e.indexOf("["+e+"]")==-1){if(e=a+e,"js"==t){var r=document.createElement("script");r.setAttribute("type","text/javascript"),r.setAttribute("src",e),r.onload=r.onreadystatechange=function(){r.onreadystatechange=r.onload=null,o()}}else if("css"==t){var r=document.createElement("link");r.setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),r.setAttribute("href",e)}"undefined"!=typeof r&&document.getElementsByTagName("head")[0].appendChild(r),$e+="["+e+"]"}};var Je=function(){var e=this;this.doLog=!1,this.log=function(t){e.doLog&&console.log(t)},this.warn=function(t){e.doLog&&console.warn(t)},this.error=function(t){e.doLog&&console.error(t)}};return e.user=Ve,e.routeChange=function(){window.conpassInitHasCalled=!1,window.startFlowCalled=!1,Conpass.init(),et.log("Conpass foi reiniciada via comando: routeChange.")},e.getCookie=function(e){return he(e)},e}(Conpass||{});Conpass.init();